## 动态域名-腾讯云域名-邮箱

​	可以动态解析腾讯云域名IPv4或IPv6都可以。

​	即使没有域名，使用邮箱也可以，项目启动或域名发生变化时会发邮件提醒您。

​	你需要配置src/main/resources/application.properties才能使用。

### 1、动态域名

​	***前置条件***：首先你要有一个公网，直接打营业商客服电话要就行，怕说话用微信客服也行，我电信宽带几分钟就开通好了。

​			注意：营业商给的免费公网是IP是动态的，几天或者十几天或者重启光猫就会发生变化。

​	**判断公网IPv4**：

​			a、打开光猫后台（默认192.168.1.1），查看IPv4地址。

​			b、打开http://ipv4.icanhazip.com/ ，查看IPv4地址。

​			c、二者相同即可。不同则没有公网IP

​	**判断公网IPv6**：

​			a、有些机器默认不开启IPv6，需要你先打开路由器和测试设备的IPv6，有些路由器太老可能都不支持IPv6。

​			b、打开http://ipv4.icanhazip.com/ ，打开显示的就是本机IPv6，打不开就是没有。



​	如果你群晖用户并且用的IPv4，那就直接用群晖自带的动态域名就行，不需要用我这个。

​	我京东云路由器用宽带挖过矿，被封了，后来装傻充愣说好话给了IPv6，后来不敢挖了。（话又说回来宽带我不是付费了吗？我不可以租给京东云？）

### 2、端口转发问题

​	***IPv4前置条件***：IPv4需要从光猫到路由器到本机设备层层端口转发。

​	***IPv6前置条件***：IPv6不需要端口转发，但需要从光猫到路由器到本机设备开启IPv6功能，并且关闭IPv6防火墙。(太老的路由器可能不支持)

​				注意：光猫IPv6防火墙需要和修宽带的要超级密码，才能关闭，你就和修宽带的实话实说要用IPv6公网，需要关闭IPv6防火墙。

### 3、腾讯云域名

#### 	a.购买

​		  购买：https://buy.cloud.tencent.com/domain/

​		  查看：https://console.cloud.tencent.com/domain/all-domain/all

​		  解析：https://console.cloud.tencent.com/cns?source=cloud&page=console&from=domain_list_button

​		  如果需要这里可以手动解析，如果以前解析了，不用的解析直接删除或暂停。用的解析删除或开启。

#### 	b.密钥

​		  https://console.cloud.tencent.com/cam/capi

​	  不想买也没关系，直接用IP访问，速度更快，但麻烦

### 4、邮箱

​		可以设置邮箱提醒，当程序运行时会给你的邮箱发送当前IP，如果IP发生变化也会给你的邮箱发送IP。这时你可以通过IP访问。

#### 	密钥

​		1、打开https://mail.qq.com/

​		2、点击右上角**账号与安全**

​		3、点击左侧列表的**安全设置**

​		4、开启**POP3/IMAP/SMTP/Exchange/CardDAV 服务**，点击**生成授权码**

### 5、你需要配置src/main/resources/application.properties才能使用。

​	B站使用教程:https://space.bilibili.com/25678649 。（视频教程暂时未出，可私信解答）

### 6、访问测试

#### 	测试前提

​		a.***完成***前置条件

​		b.腾讯云域名或邮箱***至少***有一个，最好两个同时设置。

#### 	内网IP测试

​		***必须***先完成测试前提

​		能打开网页查看信息就行：http://内网IP:端口号/ddns/index.html 。如：http://192.168.1.123:5555/ddns/index.html ，用IPv4即可。

​		如果需要***测试域名***，要求当前需要解析的IP和域名解析信息一致即可测试域名。不一致则域名解析失败，查看日志。

#### 	公网IP测试

​		1、***必须***先通过内网IP测试

​		2、先用局域网测试公网IP访问，访问成功之后用不要用局域网访问，比如用手机不开WiFi访问。

​			注意：如果是IPv6需要加[]，如：http://[240e:3a2:9c0e:ee32::123]:5555/ddns/index.html

​		3、如果失败：

​			a、***回顾***前置条件和内网IP测试。

​			b、你没有公网。

​			c、IPv4可能没有层层端口转发。

​			d、IPv6可能路由器太老不支持IPv6或没开启IPv6或没有关闭IPv6防火墙。

#### 	域名测试

​		1、***必须***先通过公网IP测试

​		2、先用局域网通过域名访问，访问成功之后用不要用局域网访问，比如用手机不开WiFi访问。

​			注意：当IP发生变化时，域名访问有600秒以内的延迟，稍等片刻。

​		3、如果失败：

​			a.回顾内网IP测试，当前需要解析的IP和域名解析信息是否一致，并已开启。不一致域名解析失败。

​			b稍等片刻。

### 完结撒花

​	能否给一个一键三连，点个赞也行，谢谢！不懂的私信问我

​	B站使用教程:https://space.bilibili.com/25678649 。（视频教程暂时未出，可私信解答）
